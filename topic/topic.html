<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>话题</title>
<link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
<link href="../css/base.css" rel="stylesheet" type="text/css">
<script src="https://cdn.bootcss.com/jquery/2.1.1/jquery.min.js"></script>
<script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="../js/main.js"></script>
<script type="text/javascript">
	if (window.XMLHttpRequest){
  // IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
  xhttp=new XMLHttpRequest();
	}
	else{
  // IE6, IE5 浏览器执行代码
  xhttp=new ActiveXObject("Microsoft.XMLHTTP");
	}
	xhttp.open("GET","xml/topic.xml",false);
	xhttp.send();
	xmlDoc=xhttp.responseXML;
</script>
<style type="text/css">
#ptype {
	max-width: 100px;
	display: inline;
	margin-left: 12px;
}
</style>
</head>

<body>
<div class="container">
  <div class="row">
    <div class="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2">
      <nav class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#nav-navbar-collapse"> <span class="sr-only">切换</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button>
            <a class="navbar-brand">Air</a> </div>
          <div class="collapse navbar-collapse" id="nav-navbar-collapse">
            <ul class="nav navbar-nav navbar-right">
              <li><a href="../index.html">主页</a></li>
              <li> <a href="topic.html">帖子</a></li>
              <li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown">关于<b class="caret"></b> </a>
                <ul class="dropdown-menu">
                  <li><a href="../about/connext.html">联系我们</a></li>
                  <li><a href="../about/team.html">团队</a></li>
                  <li><a href="../about/thanks.html">鸣谢</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      <div class="panel panel-default">
        <div class="panel-heading"> <span>帖子</span>
          <select id="ptype" class="form-control">
            <option>全部</option>
            <option>公告</option>
            <option>文章</option>
            <option>技术</option>
            <option>杂文</option>
            <option>资源</option>
          </select>
        </div>
        <div class="panel-body">
          <div class="list-group">
            <div id="list"></div>
            <ul class="pager">
              <li id="lil" class="previous"><a onClick="last()">上一页</a></li>
              <li id="lir" class="next"><a onClick="next()">下一页</a></li>
            </ul>
          </div>
        </div>
      </div>
      <footer style="opacity:0.7;" class="panel panel-default">
        <div class="panel-body">
          <p class="text-center">powered by 一叶舟</p>
        </div>
      </footer>
    </div>
  </div>
</div>
</body>
</html>
<script type="text/javascript">
	var list=document.getElementById("list");
	var n=xmlDoc.getElementsByTagName("page").length;
	var ai=0;//在本页中的位置
	var p=0;//在xml中的位置
	var istr="0";//数字变字符
	var pagen=10;//
	var a,href;
	while(ai<pagen && ai<n)
		{
			a=document.createElement("a");
			list.appendChild(a);
			istr=toString(ai);
			a.setAttribute("id", istr);
			a.setAttribute("class","list-group-item");
			a.innerHTML=xmlDoc.getElementsByTagName("title")[ai].childNodes[0].nodeValue;
			href=xmlDoc.getElementsByTagName("class")[ai].childNodes[0].nodeValue+xmlDoc.getElementsByTagName("inclass")[ai].childNodes[0].nodeValue+"-"+xmlDoc.getElementsByTagName("id")[ai].childNodes[0].nodeValue+".html";
			a.setAttribute("href",href);
			ai++;
			p++;
		}
	li();
	function last()
	{
		if(p<=pagen)
			{
				alert("没有上一页了");
			}
		else
			{
				clean();
				//从此位置开始
			}
	}
	function next()
	{
		if(p===n)
			{
				alert("没有下一页了");
			}
		else
			{
				clean();
				//从此位置开始
			}
	}
	function clean()
	{
		var parent=document.getElementById("list"),child;
			while(ai>0)
				{
					ai--;
					istr=toString(ai);
					child=document.getElementById(istr);
					parent.removeChild(child);
				}
	}
	function li()
	{
		if(p<=pagen)
			{
				document.getElementById("lil").setAttribute("class","previous disabled");
			}
		if(p===n)
			{
				document.getElementById("lir").setAttribute("class","next disabled");
			}
	}
</script>